# 练习6: 城市设计中链接的文件

## 练习目的

掌握如何使用链接文件的功能，把城市设计中的数据尽可能地拆分，以达到易于管理和修改的目的。在这个城市设计的设计过程中，我们大量地使用了“链接文件”这个功能，每一个高层和裙房都是一个链接文件。

## 打开练习文件

双击打开下载资源包中“章5-Revit使用的核心方法-拼装N个模块\练习6-城市设计中链接的文件”文件夹中的"宝安核心地块-Begin.rvt"文件，打开如下图所示的练习文件。

![城市设计中链接的文件0.png](/images/城市设计中链接的文件/城市设计中链接的文件0.png)

该练习文件源自我主持设计的[深圳市宝安中心区地域建筑文化研究与建筑风貌设计](http://www.gcszy.com/pingtai/ShowArticle.asp?ArticleID=9491)的国际竞赛的方案成果。在最终的评标中，这个设计提案得到了深圳大学林毅教授等专家的认可。最终被选为第一名中选方案。

这个练习文件中有一大块城市用地上的几个不同形状的高楼和一个不同类型的裙房。这些高楼的形状分别为退台，螺旋型扭转，和L型。

> 注明：
> 
- 链接文件功能的本质目的是把数据分散化，就像计算机编程科学中的模块化编程一样，我们在每一个文件中只完成一个简单的任务。
- 在使用链接的功能载入别的文件时，实际上只是引入了别的文件的一个空间坐标。
- 链接文件的功能相对于中心文件，是一个经常被Revit使用者忽略和错误掌握的非常重要的功能。
- 链接文件可以说越多越好，拆分得越多，意味着单个文件的数据越小，越容易被管理和修改。


> 注明：**链接文件的命名解释如下**
> 
- 例如：**飘窗-L形-150.rvt**。其中
- **飘窗**：楼房的外窗形式是飘窗
- **L形**：楼房的平面布局是L形状
- **150**：楼房的高度是150米
- **rvt**: 链接的文件格式是revit文件

## 开始做

### 1. 单击功能区里的“体量和场地”，选择下行左首“按视图 设置显示体量”中的“显示体量 形状和楼层”选项，如下图所示。

![城市设计中链接的文件1a.png](/images/城市设计中链接的文件/城市设计中链接的文件1a.png)

#### 你会看到：三维视图里一个螺旋形的大楼被显示出来，如下图所示。

![城市设计中链接的文件1b.png](/images/城市设计中链接的文件/城市设计中链接的文件1b.png)

### 2. 鼠标移动到三维视图中，单击这个螺旋形的大楼。

![城市设计中链接的文件2a.png](/images/城市设计中链接的文件/城市设计中链接的文件2a.png)

#### 你会看到：这个螺旋形的大楼变成了灰色，显示被选中，“属性”对话框中显示“链接的Revit模型 扭转150.rvt”。

![城市设计中链接的文件2b.png](/images/城市设计中链接的文件/城市设计中链接的文件2b.png)

### 3. 把鼠标移动到三维视图中，单击左上方的退台式的大楼。

![城市设计中链接的文件3a.png](/images/城市设计中链接的文件/城市设计中链接的文件3a.png)

#### 你会看到：这个退台式的大楼变成了灰色，显示被选中，“属性”对话框中显示“链接的Revit模型 Beekman-150m.rvt”。

![城市设计中链接的文件3b.png](/images/城市设计中链接的文件/城市设计中链接的文件3b.png)

### 4. 鼠标移动到三维视图中，单击右上方的L形的大楼。

![城市设计中链接的文件4a.png](/images/城市设计中链接的文件/城市设计中链接的文件4a.png)

#### 你会看到：这个L形的大楼变成了灰色，显示被选中，“属性”对话框中显示“链接的Revit模型 飘窗-L形-150.rvt”。

![城市设计中链接的文件4b.png](/images/城市设计中链接的文件/城市设计中链接的文件4b.png)

### 5. 鼠标移动到三维视图中，分别单击左上方的退台式的大楼下面的裙房，L形的大楼下面的裙房，和螺旋形的大楼和退台式的大楼之间的一个裙房。

#### 你会看到：这3个裙房在“属性”对话框中的显示分别是：“链接的Revit模型 裙房01.rvt”， “链接的Revit模型 裙房02-L形.rvt”， 和“链接的Revit模型 裙房02-L形.rvt”。

![城市设计中链接的文件5b1.png](/images/城市设计中链接的文件/城市设计中链接的文件5b1.png)

![城市设计中链接的文件5b2.png](/images/城市设计中链接的文件/城市设计中链接的文件5b2.png)

![城市设计中链接的文件5b3.png](/images/城市设计中链接的文件/城市设计中链接的文件5b3.png)

### 6. 单击功能区上的“管理”选项卡，然后单击“管理项目”中的“管理链接”。

![城市设计中链接的文件6a.png](/images/城市设计中链接的文件/城市设计中链接的文件6a.png)

#### 你会看到：弹出“管理链接”对话框。上面显示一共有5个链接的文件。例如：第一个链接的文件是“Beekman-150m.rvt”,状态是“已载入” ，参照类型是“覆盖”，保存路径是“高层\Beekman-150m.rvt”，路径类型是“相对”。

![城市设计中链接的文件6b.png](/images/城市设计中链接的文件/城市设计中链接的文件6b.png)

### 7. 鼠标移动到第1个链接的文件“Beekman-150m.rvt”，单击它:

#### 你会看到：右侧的区域变成了灰色，显示这条记录被选中。

![城市设计中链接的文件7b.png](/images/城市设计中链接的文件/城市设计中链接的文件7b.png)

### 8. 单击卸载（U），在弹出的“卸载链接文件”对话框的下方，单击“是(Y)”。

![城市设计中链接的文件8a1.png](/images/城市设计中链接的文件/城市设计中链接的文件8a1.png)

![城市设计中链接的文件8a2.png](/images/城市设计中链接的文件/城市设计中链接的文件8a2.png)

#### 你会看到：卸载（U）变成了灰色。意味着这个指令将要被执行。

![城市设计中链接的文件8b.png](/images/城市设计中链接的文件/城市设计中链接的文件8b.png)

### 9.  单击“确定”。

![城市设计中链接的文件9a.png](/images/城市设计中链接的文件/城市设计中链接的文件9a.png)

#### 你会看到：“管理链接”对话框消失。然后，三维视图中的退台式的大楼消失了，在文件的内存中被删除。

![城市设计中链接的文件9b.png](/images/城市设计中链接的文件/城市设计中链接的文件9b.png)

### 10. 单击“管理项目”中的“管理链接”，在弹出的“管理链接”对话框中单击第1个链接的文件“Beekman-150m.rvt”，然后单击“重新载入（R）”。

![城市设计中链接的文件10a1.png](/images/城市设计中链接的文件/城市设计中链接的文件10a1.png)

![城市设计中链接的文件10a2.png](/images/城市设计中链接的文件/城市设计中链接的文件10a2.png)

#### 你会看到：卸载（U）变成了正常的显示，意味着已找到这个需要链接的文件，这个指令将要被执行。

![城市设计中链接的文件10b.png](/images/城市设计中链接的文件/城市设计中链接的文件10b.png)

### 11. 单击“确定”。

![城市设计中链接的文件11a.png](/images/城市设计中链接的文件/城市设计中链接的文件11a.png)

#### 你会看到：“管理链接”对话框消失。然后，三维视图中的退台式的大楼又重新出现。

![城市设计中链接的文件11b.png](/images/城市设计中链接的文件/城市设计中链接的文件11b.png)

### 12. 单击“管理项目”中的“管理链接”，在弹出的“管理链接”对话框中单击第1个链接的文件“Beekman-150m.rvt”，然后单击“删除（E）”，在弹出的“卸载链接文件”对话框中单击“是(Y)”。

![城市设计中链接的文件12a1.png](/images/城市设计中链接的文件/城市设计中链接的文件12a1.png)

![城市设计中链接的文件12a2.png](/images/城市设计中链接的文件/城市设计中链接的文件12a2.png)

![城市设计中链接的文件12a3.png](/images/城市设计中链接的文件/城市设计中链接的文件12a3.png)

#### 你会看到：“删除（E）”变成了灰色。“管理链接”对话框中的链接文件“Beekman-150m.rvt”消失了，总共只有4个链接文件了。

![城市设计中链接的文件12b.png](/images/城市设计中链接的文件/城市设计中链接的文件12b.png)

### 13. 单击“确定”。

![城市设计中链接的文件13a.png](/images/城市设计中链接的文件/城市设计中链接的文件13a.png)

#### 你会看到：三维视图中的退台式的大楼消失了，在文件的内存中被删除。

![城市设计中链接的文件13b.png](/images/城市设计中链接的文件/城市设计中链接的文件13b.png)

### 14. 单击三维视图左上角的“裙房01.rvt”,然后按下键盘上的 Ctrl 键，单击下方的“裙房02-L形”。

#### 你会看到：这两个被选择的物体变成了灰色，意味着它们被选中，在“属性”对话框中显示“链接的Revit模型 已选择多种类型”。

![城市设计中链接的文件14b.png](/images/城市设计中链接的文件/城市设计中链接的文件14b.png)

### 15. 单击属性“链接的Revit模型 已选择多种类型”，在下拉的菜单中单击“扭转150.rvt”。

![城市设计中链接的文件15a.png](/images/城市设计中链接的文件/城市设计中链接的文件15a.png)

#### 你会看到：在三维视图中，这两个被选择的物体变成了螺旋形的大楼“扭转150.rvt”。

![城市设计中链接的文件15b.png](/images/城市设计中链接的文件/城市设计中链接的文件15b.png)

### 16. 单击“管理项目”中的“管理链接”，在弹出的“管理链接”对话框中单击第1个链接的文件“扭转150.rvt”，单击“删除（E）”，然后在弹出的“卸载链接文件”对话框中单击“是(Y)”。

![城市设计中链接的文件16a1.png](/images/城市设计中链接的文件/城市设计中链接的文件16a1.png)

![城市设计中链接的文件16a2.png](/images/城市设计中链接的文件/城市设计中链接的文件16a2.png)

![城市设计中链接的文件16a3.png](/images/城市设计中链接的文件/城市设计中链接的文件16a3.png)

#### 你会看到：“删除（E）”变成了灰色。“管理链接”对话框中的链接文件“扭转150.rvt”消失了，总共只有3个链接文件了。

![城市设计中链接的文件16b.png](/images/城市设计中链接的文件/城市设计中链接的文件16b.png)

### 17. 单击“确定”。

![城市设计中链接的文件17a.png](/images/城市设计中链接的文件/城市设计中链接的文件17a.png)

#### 你会看到：三维视图中的螺旋形的大楼消失了，在文件的内存中被删除。

![城市设计中链接的文件17b.png](/images/城市设计中链接的文件/城市设计中链接的文件17b.png)

## 继续做

1. 下载Uuarch设计框架的[A212主体](http://pan.baidu.com/s/1hrTBHtU)，打开其中的每一个文件，看一看里面都是由什么构件组成。
2. 下载Uuarch设计框架的[A211裙房](http://pan.baidu.com/s/1o8NAe86)，打开其中的每一个文件，看一看里面都是由什么构件组成。
3. 在1层平面链接一些下载的裙房文件，并自由的移动它们在平面中的位置。	
4. 在标高5层平面链接一些下载的高层楼房文件，并自由的移动它们在平面中的位置。	