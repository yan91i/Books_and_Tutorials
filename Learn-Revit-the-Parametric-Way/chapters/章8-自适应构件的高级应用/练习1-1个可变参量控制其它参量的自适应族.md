# 练习1: 1个可变参量控制其它参量的自适应族

## 练习目的

掌握如何通过1个可变参量控制其它参量。

## 打开练习文件

双击打开下载资源包中“章8-自适应构件的高级应用\练习1-1个可变参量控制其它参量的自适应族”文件夹中的"1个可变参量控制其它参量的自适应族-Begin.rfa"文件，打开如下图所示的练习文件。

![1个可变参量控制其它参量的自适应族0.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族0.png)

这个练习文件里有一个自适应构件, 它的创建过程如下：

1. 创建5个自适应点（点1，点2，点3，点4和点5）。
2. 分别连接其中的两个自适应点（点1至点2，点2至点3，点3至点4，点4至点1），生成4条样条曲线。
3. 通过这4条样条曲线生成一个面。
4. 通过“实心形状”把这个面拉伸成一个立方体。
5. 找到连接点1和点2的样条曲线的中点，和连接点3和点4的样条曲线的中点。
6. 连接这两个中点，生成一条样条曲线。
7. 在这条样条曲线的中点，通过“空心形状”生成一个圆柱体，这个圆柱体和这个立方体进行布尔运算,得出文件里的这个几何形状。

在这个练习文件中，点2至点5的距离是一个动态的数据，而中心圆的半径与点2至点5的距离有关联（中心圆的半径 = 点2至点5的距离）。如果点2至点5的距离动态地发生了变化，则中心圆的半径也会动态地发生相应的变化。

>注明: 点2至点5的距离（报告）是实例参量，不是类型参量。在Revit的运行环境中，这个实例参量是动态的，可以变化的。

## 开始做

### 1. 单击功能区里的“族类型”。

![1个可变参量控制其它参量的自适应族1a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族1a.png)

#### 你会看到：弹出了“族类型”对话框。在尺寸标注里有3个参数，它们分别是：

中心圆的半径（默认），值是1000.0(1米)，公式是：中心圆的半径 = 点2至点5的距离；

嵌板的厚度，值是100.0(10厘米)；

点2至点5的距离（报告），值是1000.0(1米)；

![1个可变参量控制其它参量的自适应族1b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族1b.png) 

### 2.鼠标移动到中心圆的半径（默认）的值的方形框内，单击，修改值为2000.0（2米），然后单击“应用（A）”。

![1个可变参量控制其它参量的自适应族2a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族2a.png)

#### 你会看到：中心圆的半径的值没有改变，还是1000.0(1米)。

![1个可变参量控制其它参量的自适应族2b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族2b.png)

### 3. 单击“确定”，然后鼠标移动到三维视图中的自适应点5，单击它。

![1个可变参量控制其它参量的自适应族3a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族3a.png)

#### 你会看到：自适应点5出现了三个方向的坐标箭头（蓝色，绿色和红色），同时“点2至点5的距离 = 1000”变成了蓝色。

![1个可变参量控制其它参量的自适应族3b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族3b.png)

### 4. 单击蓝色的“点2至点5的距离 = 1000”， 把值1000修改为2000（2米），按下键盘上的 Enter 键。

![1个可变参量控制其它参量的自适应族4a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族4a.png)

#### 你会看到：点2至点5的距离变成2000（2米），同时中心圆的半径变成2000（2米）。

![1个可变参量控制其它参量的自适应族4b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族4b.png)

### 5. 单击功能区里的“族类型”。

![1个可变参量控制其它参量的自适应族5a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族5a.png)

#### 你会看到：弹出了“族类型”对话框。点2至点5的距离 (报告)变成了2000.0（2米），同时，鼠标移动到中心圆的半径（默认）的值变成了2000.0（2米）。

![1个可变参量控制其它参量的自适应族5b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族5b.png)

### 6. 鼠标移动到“中心圆的半径（默认）”的公式的方形框内，修改公式为“= 点2至点5的距离 + 500”，然后单击“应用（A）”。

![1个可变参量控制其它参量的自适应族6a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族6a.png)

#### 你会看到：族类型的中心圆的半径变成2500.0（2.5米），同时三维视图上的中心圆变化到了相应的尺寸。

![1个可变参量控制其它参量的自适应族6b1.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族6b1.png)

![1个可变参量控制其它参量的自适应族6b2.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族6b2.png)

### 7. 鼠标移动到“中心圆的半径（默认）”的公式的方形框内，修改公式为“= (点2至点5的距离 + 500 mm) / 2”。

![1个可变参量控制其它参量的自适应族7a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族7a.png)

#### 你会看到：族类型的中心圆的半径变成了1250.0（1.25米），同时三维视图上的中心圆变化到了相应的尺寸。

![1个可变参量控制其它参量的自适应族7b1.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族7b1.png)

![1个可变参量控制其它参量的自适应族7b2.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族7b2.png)

### 8. 鼠标移动到“中心圆的半径（默认）”的公式的方形框内，修改公式为“= (点2至点5的距离 + 500 mm - 1000 mm) / 2 * 1.5 + 1000 mm”。

![1个可变参量控制其它参量的自适应族8a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族8a.png)

#### 你会看到：族类型的中心圆的半径变成了2125.0（2.125米），同时三维视图上的中心圆变化到了相应的尺寸。

![1个可变参量控制其它参量的自适应族8b1.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族8b1.png)

![1个可变参量控制其它参量的自适应族8b2.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族8b2.png)

### 9. 鼠标移动到三维视图中的自适应点5，单击它，然后单击出现的红色的箭头，并按下左键，让鼠标随意移动。

![1个可变参量控制其它参量的自适应族9a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族9a.png)

#### 你会看到：当这个自适应点随着红色箭头的移动相应地移动，点2至点5的距离在变化。这时，三维视图上的中心圆变化到了相应的尺寸。

![1个可变参量控制其它参量的自适应族9b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族9b.png)

### 10. 单击出现的绿色的箭头，并按下左键，让鼠标随意移动。

![1个可变参量控制其它参量的自适应族10a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族10a.png)

#### 你会看到：当这个自适应点随着绿色箭头的移动相应地移动，点2至点5的距离在变化。这时，三维视图上的中心圆变化到了相应的尺寸。

![1个可变参量控制其它参量的自适应族10b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族10b.png)

### 11. 单击出现的蓝色的箭头，并按下左键，让鼠标随意移动。

![1个可变参量控制其它参量的自适应族11a.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族11a.png)

#### 你会看到：当这个自适应点随着蓝色箭头的移动相应地移动，点2至点5的距离没有变化。这时，三维视图上的中心圆的尺寸也没有变化。

![1个可变参量控制其它参量的自适应族11b.png](/images/1个可变参量控制其它参量的自适应族/1个可变参量控制其它参量的自适应族11b.png)

## 继续做

1. 修改族类型中嵌板的厚度的值为1000(1米)，看一看模型的变化；修改值为-1000，看一看Revit跳出的错误提示。
2. 修改中心圆的半径的属性为类型参数（Y），看一看Revit跳出的错误提示。
3. 修改族类型中中心圆的半径的属性为锁定，然后看一下随着自适应点5的位置的改变，中心圆的半径是否有变化，是不是还是固定的数值。
4. 选中自适应点1，2，3，4中的任意一个点，拖动蓝色的箭头，看一看Revit跳出的提示，然后单击“删除尺寸标准”，看一下Revit模型发生了什么变化。





